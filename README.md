## Image-scrape-Gen

Generate or fetch a product image from a product URL.

The script tries to find the most relevant product image from a given product page. If no good match is found, it asks Gemini to craft an image prompt from the inferred product name and then generates an image using Stability AI's image generation API.

### Features
- Extracts a product-like name from URL
- Scrapes the page for the best matching `<img>` by comparing `src`/`alt` text
- If unable to scrape, falls back to AI image generation using Gemini (prompt) + Stability AI (image)
- Saves the final image locally as `product.jpg` (scrape) or `generated_image.png` (AI)

### Requirements
- Python 3.9+
- See `requirements.txt`

### Installation
1. Clone or download this repository.
2. Create and activate a virtual environment (recommended).
   - Windows (PowerShell):
     ```powershell
     python -m venv .venv
     .\.venv\Scripts\Activate.ps1
     ```
3. Install dependencies:
   ```powershell
   pip install -r requirements.txt
   ```

### Environment Variables
Create a `.env` file in the project root with the following keys:
```
GEMINI_API_KEY=your_gemini_api_key_here
STABILITY_API_KEY=your_stability_api_key_here
```
- `GEMINI_API_KEY`: Used by Google Generative AI (Gemini) to generate an image prompt.
- `STABILITY_API_KEY`: Used by Stability AI to generate an image.

### Usage
Run the script and provide a product URL when prompted:
```powershell
python script.py
```
- If a relevant image is found on the page, it will be saved as `product.jpg`.
- If not, an image prompt will be created with Gemini and an image will be generated by Stability AI and saved as `generated_image.png`.

### Notes
- The script uses a User-Agent header when scraping to reduce the chance of being blocked.
- Some websites may block scraping or require authentication; results can vary.
- Ensure your API keys are valid and have sufficient quota.

### Files
- `script.py`: Main script
- `requirements.txt`: Python dependencies


